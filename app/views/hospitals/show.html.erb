<div class="row">
  <div class="span4">
    <h3><%= link_to @hospital.name, "http://www.google.com/search?q="+@hospital.name+"&btnI", :target => "_blank" %></h3>
    <p><%= @hospital.address %></br><%= @hospital.city %>, <%= @hospital.state %> <%= @hospital.zipcode %></p>
    <p><b>Region:</b> : <%= @hospital.referral_region %></p>
  </div>
  <div class="span8">
    <div id="map-canvas"></div>
  </div>
</div>

<script type="text/javascript">
var map;
google.maps.visualRefresh = true;
function initialize() {
  var mapOptions = {
    zoom: 16,
    center: new google.maps.LatLng(<%= @hospital.latitude %>, <%= @hospital.longitude %>),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);
}

google.maps.event.addDomListener(window, 'load', initialize);
</script>

<table id="hospitalTable" class="table table-striped table-hover table-bordered">
<thead>
  <th>Description</th>
  <th>Total Discharges</th>
  <th>Average Covered Charge</th>
  <th>Average Total Payment</th>
</thead>
<tbody>
<% @costs.each do |cost| %>
<tr>
  <td><%= link_to cost.drg.description, cost.drg %></td>
  <td><%= cost.total_discharges %></td>
  <td style="text-align:right;">$<%= cost.average_covered_charges %>.00</td>
  <td align="right">$<%= cost.average_total_payments %>.00</td>
</tr>
<% end %>
</tbody>
</table>

<%= render "shared/pager" %>

<script>
$(document).ready(function() { 
    $("#hospitalTable")
      .tablesorter({widthFixed: true, widgets: ['zebra']})
      .tablesorterPager({container: $("#pager")});
}); 
</script>
